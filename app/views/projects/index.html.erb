<script type="text/javascript">
$('document').ready(function(){

  $('#sort-by-name').click(function(){
    console.log('fire');
    $('.span4').tsort({data:'name'});
      });

  $('#sort-by-stars').click(function(){
    console.log('fireup');
    $('.span4').tsort({data:'stars', order:'desc'});
  });


  $('#my_filter').change(function() {
    var my_val = $('#my_filter').val(); 
    $.getScript("/projects/filter?semesterID=" + my_val);
    });



});

</script>

<div class="subnav">
  <h4>Projects by the students of the Flatiron School</h4>
</div>
<div class="row-fluid">
  <div class="span4">
    <select id='my_filter' class='btn btn-warning' style="width:auto;">
    <option value="000">Fall '12</option>
    <option value="001">Spring '13</option>
  </select>
  </div>
  <div class="span4 offset4" id="sort">
    <ul>
    <li>Sort by:</li>
    <li class="btn btn-link" id="sort-by-name">Name</li>
      <li class="btn btn-link" id="sort-by-stars">Github Stars</li></div>
    <ul>
  <div id="filter_point">

  <span style= color:"red"><%= notice %></span>
  </div>
</div>

<div class="row-fluid">
  <% @projects.each do |project| %>
    <div class="project span4" data-name="<%= project.name %>" data-stars="<%= project.watchers %>"> 
     <div class="cover-image">
      <% project.images.where(image_type: "cover").each do |cover| %>
          <%= link_to image_tag(cover.upload.url(:cover)), project %>
      <%end%>
     </div>
    <h4><%= link_to project.name, project %></h4>
    <%= short_description(project.description) %>
    </div>
  <%end%>
  </div>

 


